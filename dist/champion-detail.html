<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wild Rift Champion Detail</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a1428 0%, #1a2332 100%);
            color: #e0e0e0;
            line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* Header */
        .champion-header {
            background: linear-gradient(135deg, #0d47a1 0%, #1565c0 100%);
            padding: 40px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: center;
        }
        .champion-info h1 { font-size: 2.5em; margin-bottom: 10px; }
        .champion-title { font-size: 1.2em; opacity: 0.8; margin-bottom: 15px; color: #00bcd4; }
        .champion-description { opacity: 0.9; margin-bottom: 20px; }
        .champion-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .stat-item { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 5px; }
        .stat-label { font-size: 0.9em; opacity: 0.7; }
        .stat-value { font-size: 1.3em; font-weight: bold; color: #00e5ff; }
        
        /* Tabs */
        .tabs { display: flex; gap: 10px; margin-bottom: 30px; border-bottom: 2px solid rgba(0,188,212,0.3); }
        .tab { padding: 15px 20px; cursor: pointer; border-bottom: 3px solid transparent; transition: all 0.3s; }
        .tab:hover { border-bottom-color: #00bcd4; }
        .tab.active { border-bottom-color: #00e5ff; color: #00e5ff; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        /* Abilities */
        .abilities-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .ability-card {
            background: linear-gradient(135deg, rgba(13, 71, 161, 0.3) 0%, rgba(21, 101, 192, 0.2) 100%);
            border: 1px solid #00bcd4;
            border-radius: 8px;
            padding: 20px;
        }
        .ability-key { font-size: 2em; font-weight: bold; color: #00e5ff; margin-bottom: 10px; }
        .ability-name { font-size: 1.2em; font-weight: bold; margin-bottom: 10px; }
        .ability-description { opacity: 0.8; margin-bottom: 15px; font-size: 0.95em; }
        .ability-stats { display: flex; gap: 15px; font-size: 0.9em; }
        .ability-stat { background: rgba(0,188,212,0.2); padding: 5px 10px; border-radius: 3px; }
        
        /* Builds */
        .builds-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .build-card {
            background: linear-gradient(135deg, rgba(13, 71, 161, 0.3) 0%, rgba(21, 101, 192, 0.2) 100%);
            border: 1px solid #00bcd4;
            border-radius: 8px;
            padding: 20px;
        }
        .build-name { font-size: 1.3em; font-weight: bold; margin-bottom: 15px; color: #00e5ff; }
        .build-description { opacity: 0.8; margin-bottom: 15px; font-size: 0.95em; }
        .items-list { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px; }
        .item { background: rgba(0,188,212,0.3); padding: 8px 12px; border-radius: 5px; border: 1px solid #00bcd4; font-size: 0.9em; }
        .boots { background: rgba(255,193,7,0.3); border-color: #ffc107; }
        
        /* Combos */
        .combos-list { display: grid; gap: 20px; }
        .combo-card {
            background: linear-gradient(135deg, rgba(13, 71, 161, 0.3) 0%, rgba(21, 101, 192, 0.2) 100%);
            border: 1px solid #00bcd4;
            border-radius: 8px;
            padding: 20px;
        }
        .combo-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .combo-name { font-size: 1.3em; font-weight: bold; color: #00e5ff; }
        .combo-difficulty { padding: 5px 10px; border-radius: 3px; font-weight: bold; font-size: 0.9em; }
        .difficulty-easy { background: #4caf50; color: white; }
        .difficulty-medium { background: #ff9800; color: white; }
        .difficulty-hard { background: #f44336; color: white; }
        .difficulty-extreme { background: #9c27b0; color: white; }
        .combo-description { opacity: 0.8; margin-bottom: 15px; }
        .combo-abilities { display: flex; gap: 10px; margin-bottom: 15px; }
        .combo-ability { background: rgba(0,188,212,0.3); padding: 8px 12px; border-radius: 5px; border: 1px solid #00bcd4; font-weight: bold; }
        .combo-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; }
        .combo-stat { background: rgba(0,188,212,0.1); padding: 10px; border-radius: 5px; }
        .combo-stat-label { font-size: 0.9em; opacity: 0.7; }
        .combo-stat-value { font-size: 1.2em; font-weight: bold; color: #00e5ff; }
        
        /* Matchups */
        .matchups-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .matchup-section h3 { margin-bottom: 15px; font-size: 1.2em; }
        .matchup-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .matchup-champion { background: rgba(0,188,212,0.3); padding: 10px 15px; border-radius: 5px; border: 1px solid #00bcd4; }
        .favorable { border-color: #4caf50; background: rgba(76, 175, 80, 0.2); }
        .unfavorable { border-color: #f44336; background: rgba(244, 67, 54, 0.2); }
        
        /* Sources */
        .sources-info {
            background: rgba(0,188,212,0.1);
            border: 1px solid #00bcd4;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .sources-title { font-size: 1.1em; font-weight: bold; margin-bottom: 15px; color: #00e5ff; }
        .sources-list { display: flex; flex-wrap: wrap; gap: 10px; }
        .source-badge { background: rgba(0,188,212,0.3); padding: 8px 12px; border-radius: 5px; border: 1px solid #00bcd4; font-size: 0.9em; }
        
        .back-button { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: rgba(0,188,212,0.3); border: 1px solid #00bcd4; border-radius: 5px; cursor: pointer; color: #00e5ff; text-decoration: none; transition: all 0.3s; }
        .back-button:hover { background: rgba(0,188,212,0.5); }
        
        footer { text-align: center; padding: 20px; border-top: 1px solid rgba(0,188,212,0.3); margin-top: 40px; opacity: 0.7; }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">‚Üê Volver a Campeones</a>
        
        <div id="championContainer"></div>
        
        <footer>
            <p>Wild Rift Champion Database v2.0 | Multi-Provider System | ¬© 2025</p>
        </footer>
    </div>

    <script>
        // Obtener ID del campe√≥n desde URL
        const urlParams = new URLSearchParams(window.location.search);
        const championId = urlParams.get('id');

        async function loadChampionDetail() {
            try {
                // Cargar datos del campe√≥n
                const response = await fetch(`./data/champions-detailed/${championId}.json`);
                if (!response.ok) throw new Error('Champion not found');
                
                const champion = await response.json();
                renderChampionDetail(champion);
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('championContainer').innerHTML = 
                    '<div style="text-align: center; padding: 40px; color: #00bcd4;">Error cargando campe√≥n</div>';
            }
        }

        function renderChampionDetail(champion) {
            const html = `
                <div class="champion-header">
                    <div class="champion-info">
                        <h1>${champion.name}</h1>
                        <div class="champion-title">${champion.title}</div>
                        <div class="champion-description">${champion.description}</div>
                        <div class="champion-stats">
                            <div class="stat-item">
                                <div class="stat-label">Roles</div>
                                <div class="stat-value">${(champion.roles || []).join(', ')}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Dificultad</div>
                                <div class="stat-value">${champion.difficulty || 'N/A'}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Fuentes</div>
                                <div class="stat-value">${(champion.sources || []).length}</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">Combos</div>
                                <div class="stat-value">${(champion.combos || []).length}</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="switchTab(this, 'abilities')">Habilidades</div>
                    <div class="tab" onclick="switchTab(this, 'builds')">Builds</div>
                    <div class="tab" onclick="switchTab(this, 'combos')">Combos</div>
                    <div class="tab" onclick="switchTab(this, 'matchups')">Matchups</div>
                </div>

                <!-- Abilities Tab -->
                <div id="abilities" class="tab-content active">
                    <div class="abilities-grid">
                        ${renderAbilities(champion.abilities)}
                    </div>
                </div>

                <!-- Builds Tab -->
                <div id="builds" class="tab-content">
                    <div class="builds-grid">
                        ${renderBuilds(champion.builds)}
                    </div>
                </div>

                <!-- Combos Tab -->
                <div id="combos" class="tab-content">
                    <div class="combos-list">
                        ${renderCombos(champion.combos)}
                    </div>
                </div>

                <!-- Matchups Tab -->
                <div id="matchups" class="tab-content">
                    <div class="matchups-grid">
                        <div>
                            <h3>‚úÖ Matchups Favorables</h3>
                            <div class="matchup-list">
                                ${(champion.matchups?.favorable || []).map(c => 
                                    `<div class="matchup-champion favorable">${c}</div>`
                                ).join('')}
                            </div>
                        </div>
                        <div>
                            <h3>‚ùå Matchups Desfavorables</h3>
                            <div class="matchup-list">
                                ${(champion.matchups?.unfavorable || []).map(c => 
                                    `<div class="matchup-champion unfavorable">${c}</div>`
                                ).join('')}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sources-info">
                    <div class="sources-title">üìä Fuentes de Datos</div>
                    <div class="sources-list">
                        ${(champion.sources || []).map(source => 
                            `<div class="source-badge">${source}</div>`
                        ).join('')}
                    </div>
                    <div style="margin-top: 15px; opacity: 0.7; font-size: 0.9em;">
                        Actualizado: ${new Date(champion.lastUpdated || champion.aggregatedAt).toLocaleString('es-ES')}
                    </div>
                </div>
            `;

            document.getElementById('championContainer').innerHTML = html;
        }

        function renderAbilities(abilities) {
            if (!abilities) return '';
            return Object.values(abilities).map(ability => `
                <div class="ability-card">
                    <div class="ability-key">${ability.key}</div>
                    <div class="ability-name">${ability.name}</div>
                    <div class="ability-description">${ability.description}</div>
                    <div class="ability-stats">
                        ${ability.cooldown ? `<div class="ability-stat">‚è±Ô∏è ${ability.cooldown}s</div>` : ''}
                        ${ability.cost ? `<div class="ability-stat">üíé ${ability.cost}</div>` : ''}
                        ${ability.range ? `<div class="ability-stat">üìè ${ability.range}</div>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function renderBuilds(builds) {
            if (!builds || Object.keys(builds).length === 0) return '<div style="opacity: 0.7;">Sin builds disponibles</div>';
            return Object.values(builds).map(build => `
                <div class="build-card">
                    <div class="build-name">${build.name}</div>
                    <div class="build-description">${build.description || ''}</div>
                    <div class="items-list">
                        ${(build.items || []).map(item => 
                            `<div class="item ${item.includes('Boots') || item.includes('Shoes') ? 'boots' : ''}">${item}</div>`
                        ).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderCombos(combos) {
            if (!combos || combos.length === 0) return '<div style="opacity: 0.7;">Sin combos disponibles</div>';
            return combos.map(combo => `
                <div class="combo-card">
                    <div class="combo-header">
                        <div class="combo-name">${combo.name}</div>
                        <div class="combo-difficulty difficulty-${combo.difficulty || combo.effectiveness?.difficulty || 'medium'}">
                            ${combo.difficulty || combo.effectiveness?.difficulty || 'N/A'}
                        </div>
                    </div>
                    <div class="combo-description">${combo.description}</div>
                    <div class="combo-abilities">
                        ${(combo.abilities || []).map(ab => 
                            `<div class="combo-ability">${typeof ab === 'string' ? ab : ab.key}</div>`
                        ).join('')}
                    </div>
                    <div class="combo-stats">
                        <div class="combo-stat">
                            <div class="combo-stat-label">Da√±o</div>
                            <div class="combo-stat-value">${combo.damageOutput || combo.effectiveness?.damageOutput || 0}</div>
                        </div>
                        <div class="combo-stat">
                            <div class="combo-stat-label">Confiabilidad</div>
                            <div class="combo-stat-value">${((combo.effectiveness?.reliability || 0) * 100).toFixed(0)}%</div>
                        </div>
                        <div class="combo-stat">
                            <div class="combo-stat-label">Tiempo</div>
                            <div class="combo-stat-value">${combo.effectiveness?.executionTime || 0}ms</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function switchTab(tabElement, tabId) {
            // Desactivar todos los tabs
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            // Activar tab seleccionado
            tabElement.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }

        // Cargar datos al iniciar
        loadChampionDetail();
    </script>
</body>
</html>
